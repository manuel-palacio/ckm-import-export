{"id":"stroke_prevention_app","version":"0.1.0","templates":[{"id":"stroke_prevention_app_06","version":"0.0.1"}],"language":"en","updated":"2021-07-21T19:41:24+02:00","authors":[{"name":"Konstantinos Kalliamvakos","email":"konstantinos.kalliamvakos@cambio.se"}],"description":"Recreation of the stroke prevention app using a form in combination with GDL2 guidelines and form rules.","format":"CambioForm.v1","name":"stroke_prevention_app","actions":[{"condition":"atrial_fibrillation == 'at0012' && age && gender","assignments":["total_score_result_section.text = 'CHA₂DS₂-VASc points: ' + total_score"],"otherwise":["total_score_result_section.text = 'CHA₂DS₂-VASc points: '"]},{"condition":"total_score > 0","assignments":["recommended_treatment_label.hidden = false"],"otherwise":["recommended_treatment_label.hidden = true"]},{"condition":"atrial_fibrillation == 'at0011'","assignments":["diabetes.required = false","diabetes.readonly = true","stroke_tia_thromboembolism.required = false","stroke_tia_thromboembolism.readonly = true","congestive_heart_failure.required = false","congestive_heart_failure.readonly = true","vascular_disease.required  = false","vascular_disease.readonly = true","hypertension.required = false","hypertension.readonly = true"],"otherwise":["diabetes.required = true","diabetes.readonly = false","stroke_tia_thromboembolism.required = true","stroke_tia_thromboembolism.readonly = false","congestive_heart_failure.required = true","congestive_heart_failure.readonly = false","vascular_disease.required  = true","vascular_disease.readonly = false","hypertension.required = true","hypertension.readonly = false"]},{"condition":"atrial_fibrillation == 'at0011' || !atrial_fibrillation || !total_score","assignments":["recommendations_panel.readonly = true","compliance_label.hidden = true","anti_coagulation_detection_label.hidden = true"],"otherwise":["recommendations_panel.readonly = false","compliance_label.hidden = false","anti_coagulation_detection_label.hidden = false"]},{"condition":"treatment_compliance == 'at0007'","assignments":["compliance_label.text = 'Compliant with ESC guidelines'"]},{"condition":"treatment_compliance == 'at0008'","assignments":["compliance_label.text = 'NON compliant with ESC guidelines'"]},{"condition":"treatment_compliance != 'at0007' && treatment_compliance != 'at0008'","assignments":["compliance_label.text = ''"]},{"condition":"anticoagulant_medication == 'at0005'","assignments":["anti_coagulation_detection_label.text = 'Anti-coagulation medication present'"],"otherwise":["anti_coagulation_detection_label.text = 'Anti-coagulation medication absent'"]},{"assignments":["risk_for_stroke = ''"],"condition":"atrial_fibrillation == 'at0011' || treatment_compliance == 'at0007'"},{"assignments":["prescription_label.readonly = true","medication_list.readonly = true","prescription_note_01.readonly = true","prescription_note_02.readonly = true"],"otherwise":["prescription_label.readonly = false","medication_list.readonly = false","prescription_note_01.readonly = false","prescription_note_02.readonly = false"],"condition":"atrial_fibrillation == 'at0011' || !atrial_fibrillation || treatment_compliance != 'at0008'"},{"condition":"diagnosis_overriden == true","assignments":["reasons_for_overriding_the.hidden = false","reasons_for_overriding_the.required = true"],"otherwise":["reasons_for_overriding_the.hidden = true","reasons_for_overriding_the.required = false"]},{"condition":"atrial_fibrillation != 'at0012'","assignments":["patient_not_eligible_note.hidden = false"],"otherwise":["patient_not_eligible_note.hidden = true"]},{"condition":"time_of_decision == 'at0017'","assignments":["follow_cds_recommendation.hidden = false","follow_cds_recommendation.required = true"],"otherwise":["follow_cds_recommendation.hidden = true","follow_cds_recommendation.required = false"]},{"condition":"follow_cds_recommendation == 'at0020'","assignments":["reason_for_deviation.hidden = false","reason_for_deviation.required = true"],"otherwise":["reason_for_deviation.hidden = true","reason_for_deviation.required = false"]},{"assignments":["reason_for_deviation_specify.hidden = false","reason_for_deviation_specify.required = true"],"otherwise":["reason_for_deviation_specify.hidden = true","reason_for_deviation_specify.required = false"],"condition":"reason_for_deviation == 'at0036'"},{"condition":"time_of_decision == 'at0018'","assignments":["postpone_decision_for.hidden = false","postpone_decision_for.required = true","manual_follow_up_reminder_label.hidden = false","reason_for_delayed_decision.hidden = false","reason_for_delayed_decision.required = true"],"otherwise":["postpone_decision_for.hidden = true","postpone_decision_for.required = false","manual_follow_up_reminder_label.hidden = true","reason_for_delayed_decision.hidden = true","reason_for_delayed_decision.required = false"]},{"otherwise":["reason_for_delayed_decision_1.hidden = true","reason_for_delayed_decision_1.required = false"],"assignments":["reason_for_delayed_decision_1.hidden = false","reason_for_delayed_decision_1.required = true"],"condition":"reason_for_delayed_decision == 'at0031'"},{"condition":"treatment_compliance != 'at0008'","assignments":["time_of_decision.hidden = true","time_of_decision.required = false"],"otherwise":["time_of_decision.hidden = false","time_of_decision.required = true"]},{"condition":"medication_list && time_of_decision != 'at0018'","assignments":["time_of_decision = 'at0017'","follow_cds_recommendation = 'at0021'"],"otherwise":["time_of_decision = time_of_decision","follow_cds_recommendation = follow_cds_recommendation"]}],"guidelines":[{"condition":"","execution":[{"id":"1AA_CHA2DS2_VASc_diagnosis_review.v1.0","version":"1.0.0"},{"id":"1AA_CHA2DS2_VASc_score.v1.0","version":"1.0.0"}]},{"condition":"atrial_fibrillation == 'at0012'","execution":[{"id":"1AA_Stroke_prevention_compliance_checking_in_AF.v1.0","version":"1.0.0"},{"id":"1AA_CHA2DS2_VASc_stroke_risk.v1.0","version":"1.0.0"}]}],"elements":[{"type":"form","children":[{"type":"container","hidden":false,"readonly":false,"children":[{"type":"row","spanlarge":12,"spanmedium":8,"spansmall":4,"children":[{"type":"column","spanlarge":6,"spanmedium":4,"spansmall":4,"hidden":false,"readonly":false,"children":[{"text":"Diagnosis review","type":"label","size":"m","position":"left","hidden":false,"readonly":false},{"type":"input-select","label":"Atrial fibrillation","name":"atrial_fibrillation","options":[{"text":"Absent","value":"at0011","magnitude":0},{"text":"Present","value":"at0012","magnitude":1}],"clearable":true,"display":"buttons","hidden":false,"readonly":false,"required":true},{"type":"input-select","label":"Diabetes","name":"diabetes","options":[{"text":"Absent","value":"at0011","magnitude":0},{"text":"Present","value":"at0012","magnitude":1}],"clearable":true,"display":"buttons","hidden":false,"readonly":true,"required":true},{"type":"input-select","label":"Stroke TIA Thromboembolism","name":"stroke_tia_thromboembolism","options":[{"text":"Absent","value":"at0011","magnitude":0},{"text":"Present","value":"at0012","magnitude":2}],"clearable":true,"display":"buttons","hidden":false,"readonly":true,"required":true},{"type":"input-select","label":"Congestive heart failure","name":"congestive_heart_failure","options":[{"text":"Absent","value":"at0011","magnitude":0},{"text":"Present","value":"at0012","magnitude":1}],"clearable":true,"display":"buttons","hidden":false,"readonly":true,"required":true},{"type":"input-select","label":"Vascular disease","name":"vascular_disease","options":[{"text":"Absent","value":"at0011","magnitude":0},{"text":"Present","value":"at0012","magnitude":1}],"clearable":true,"display":"buttons","hidden":false,"readonly":true,"required":true},{"type":"input-select","label":"Hypertension","name":"hypertension","options":[{"text":"Absent","value":"at0011","magnitude":0},{"text":"Present","value":"at0012","magnitude":1}],"clearable":true,"display":"buttons","hidden":false,"readonly":true,"required":true},{"text":"Spacer","type":"spacer","size":"xs"}]},{"type":"column","spanlarge":6,"spanmedium":4,"spansmall":4,"readonly":false,"hidden":false,"id":"recommendations_panel","children":[{"text":"Recommendations","type":"label","size":"m","position":"left","hidden":false,"readonly":false},{"type":"label","size":"m","position":"left","hidden":true,"readonly":false,"id":"compliance_label"},{"text":"Label","type":"label","size":"m","position":"left","hidden":false,"readonly":false,"id":"total_score_result_section"},{"type":"input-quantity","label":"Risk for stroke","name":"risk_for_stroke","unitoptions":[{"unit":"%","minexclusive":false,"maxexclusive":false}],"required":false,"readonly":false,"hideunit":false,"hidden":false},{"text":"Recommended treatment based on CHA2DS2-VASc: NOAK or VKA","type":"label","size":"m","position":"left","hidden":true,"readonly":false,"id":"recommended_treatment_label"},{"text":"Label","type":"label","size":"m","position":"left","hidden":true,"readonly":false,"id":"anti_coagulation_detection_label"},{"text":"Reference: National Board of Health and Welfare: National guidelines for cardiac care 2018 - Scientific basis.","type":"label","size":"m","position":"left","hidden":false,"readonly":false},{"text":"Reference: Friberg L, Rosenqvist M, Lip GY. Evaluation of risk stratification schemes for ischaemic stroke and bleeding in 182 678 patients with atrial fibrillation: the Swedish Atrial Fibrillation cohort study. Eur Heart J. 2012 Jun;33(12):1500-10.","type":"label","size":"m","position":"left","hidden":false,"readonly":false},{"type":"input-select","label":"Anticoagulant medication","name":"anticoagulant_medication","options":[{"text":"Absent","value":"at0004"},{"text":"Present","value":"at0005"}],"clearable":true,"display":"dropdown","hidden":true,"readonly":false,"required":false},{"type":"input-select","label":"Treatment compliance","name":"treatment_compliance","options":[{"text":"Compliant","value":"at0007"},{"text":"Non-compliant","value":"at0008"}],"clearable":true,"display":"dropdown","hidden":true,"readonly":false,"required":false}]}]},{"type":"row","spanlarge":12,"spanmedium":8,"spansmall":4,"hidden":false,"readonly":false,"children":[{"type":"column","spanlarge":6,"spanmedium":4,"spansmall":4,"hidden":false,"readonly":false,"children":[{"text":"CHA₂DS₂-VASc score","type":"label","size":"m","position":"left","hidden":false,"readonly":false},{"type":"input-select","label":"Congestive heart failure","name":"congestive_heart_failure_1","options":[{"text":"Absent","value":"at0010","magnitude":0},{"text":"Present","value":"at0011","magnitude":1}],"clearable":true,"display":"dropdown","hidden":false,"readonly":true,"required":false},{"type":"input-select","label":"Hypertension","name":"hypertension_1","options":[{"text":"Absent","value":"at0010","magnitude":0},{"text":"Present","value":"at0011","magnitude":1}],"clearable":true,"display":"dropdown","hidden":false,"readonly":true,"required":false},{"type":"input-select","label":"Diabetes","name":"diabetes_1","options":[{"text":"Absent","value":"at0010","magnitude":0},{"text":"Present","value":"at0011","magnitude":1}],"clearable":true,"display":"dropdown","hidden":false,"readonly":true,"required":false},{"type":"input-select","label":"Stroke TIA Thromboembolism","name":"stroke_tia_thromboembolism_1","options":[{"text":"Absent","value":"at0010","magnitude":0},{"text":"Present","value":"at0011","magnitude":2}],"clearable":true,"display":"dropdown","hidden":false,"readonly":true,"required":false},{"type":"input-select","label":"Vascular disease","name":"vascular_disease_1","options":[{"text":"Absent","value":"at0010","magnitude":0},{"text":"Present","value":"at0011","magnitude":1}],"clearable":true,"display":"dropdown","hidden":false,"readonly":true,"required":false},{"type":"input-select","label":"Age","name":"age","options":[{"text":"Under 65","value":"at0013","magnitude":0},{"text":"Between 65-74","value":"at0014","magnitude":1},{"text":"Above or equals to 75","value":"at0015","magnitude":2}],"clearable":true,"display":"dropdown","hidden":false,"readonly":false,"required":true},{"type":"input-select","label":"Gender","name":"gender","options":[{"text":"Male","value":"at0017","magnitude":0},{"text":"Female","value":"at0018","magnitude":1}],"clearable":true,"display":"dropdown","hidden":false,"readonly":false,"required":true},{"type":"input-count","label":"Total score","name":"total_score","min":0,"max":9,"hidden":false,"readonly":true,"required":false}]},{"type":"column","spanlarge":6,"spanmedium":4,"spansmall":4,"readonly":false,"hidden":false,"children":[{"text":"Prescription","type":"label","size":"m","position":"left","hidden":false,"readonly":false,"id":"prescription_label"},{"type":"input-select","label":"Medication list","name":"medication_list","options":[{"text":"Dabigatran Etexilate","value":"at0010"},{"text":"Rivaroxaban","value":"at0011"},{"text":"Apixaban","value":"at0012"},{"text":"Edoxaban","value":"at0013"},{"text":"Warfarin","value":"at0015"}],"clearable":true,"display":"dropdown","hidden":false,"readonly":false,"required":false},{"text":"In the National Board of Health and Welfare's guidelines (2018), NOAK is given higher priority than Waran.","type":"label","size":"m","position":"left","hidden":false,"readonly":false,"id":"prescription_note_01"},{"text":"NOTE. In case of atrial fibrillation and concomitant mitral stenosis or mechanical heart valve, NOAK should not be given.","type":"label","size":"m","position":"left","hidden":false,"readonly":false,"id":"prescription_note_02"},{"text":"Spacer","type":"spacer","size":"xs"},{"text":"Medical decision","type":"label","size":"m","position":"left","hidden":false,"readonly":false},{"text":"NOTE: Treatment recommendations do not apply as the patient does not have atrial fibrillation / flutter. Specify with comment below.","type":"label","size":"m","position":"left","hidden":true,"readonly":false,"id":"patient_not_eligible_note"},{"type":"input-boolean","label":"Diagnosis overriden","name":"diagnosis_overriden","defaultValue":false,"display":"checkbox","hidden":true,"readonly":false},{"type":"input-text","label":"Reason(s) for overriding the current diagnosis","name":"reasons_for_overriding_the","multiline":false,"hidden":true},{"type":"input-select","label":"Time of decision","name":"time_of_decision","options":[{"text":"Make a decision now","value":"at0017"},{"text":"Postpone the decision","value":"at0018"}],"clearable":true,"display":"dropdown","hidden":false,"readonly":false,"required":true},{"type":"input-select","label":"Follow-CDS Recommendation","name":"follow_cds_recommendation","options":[{"text":"No","value":"at0020"},{"text":"Yes","value":"at0021"}],"clearable":true,"display":"dropdown","hidden":true,"readonly":false,"required":false},{"type":"input-select","label":"Reason for deviation","name":"reason_for_deviation","options":[{"text":"Any contraindication","value":"at0034"},{"text":"Patient preference","value":"at0035"},{"text":"Other reason","value":"at0036"}],"clearable":true,"display":"dropdown","hidden":true,"readonly":false,"required":false},{"type":"input-text","label":"Specify","name":"reason_for_deviation_specify","multiline":false,"hidden":true},{"type":"input-select","label":"Postpone decision for","name":"postpone_decision_for","options":[{"text":"1 day","value":"at0023"},{"text":"7 days","value":"at0024"},{"text":"30 days","value":"at0025"},{"text":"365 days","value":"at0026"}],"clearable":true,"display":"dropdown","hidden":true,"readonly":false,"required":false},{"text":"NOTE: Manual follow-up is required. Automated reminders from this system are not sent.","type":"label","size":"m","position":"left","hidden":true,"readonly":false,"id":"manual_follow_up_reminder_label"},{"type":"input-select","label":"Reason for delayed decision","name":"reason_for_delayed_decision","options":[{"text":"Patient related","value":"at0028"},{"text":"Lab tests needed","value":"at0029"},{"text":"Referral to another department","value":"at0030"},{"text":"Other reason","value":"at0031"}],"clearable":true,"display":"dropdown","hidden":true,"readonly":false,"required":false},{"type":"input-text","label":"Specify","name":"reason_for_delayed_decision_1","multiline":false,"hidden":true},{"type":"input-text","label":"Comment","name":"comment","multiline":false},{"type":"input-datetime","label":"Review date","name":"review_date","hidden":true,"readonly":false,"required":false}]}]},{"type":"reset-button","label":"Reset"},{"type":"submit-button","label":"Submit","justify":"end"}]}]}]}