{"id":"bmi_demo_expression_editor","version":"0.5.0","format":"CambioForm.v1.1","templates":[{"id":"bmi_demo","version":"0.1.0","alias":"T0","type":"openEhrOpt14Template"}],"updated":"2023-06-10T04:32:46+02:00","authors":[{"name":"Rong Chen","email":"rong.chen@cambio.se"}],"elements":[{"type":"form","children":[{"type":"container","children":[{"type":"row","children":[{"type":"column","spanlarge":6,"spanmedium":4,"spansmall":2,"children":[{"type":"input-quantity","name":"T0_height","unitoptions":[{"unit":"cm","min":0,"max":1000,"minexclusive":false,"maxexclusive":false}]},{"type":"input-quantity","name":"T0_weight","unitoptions":[{"unit":"kg","min":0,"max":1000,"minexclusive":false,"maxexclusive":false}]}]},{"type":"column","spanlarge":6,"spanmedium":4,"spansmall":2,"children":[{"type":"input-quantity","name":"T0_body_mass_index","unitoptions":[{"unit":"kg/m2","min":0,"max":1000,"minexclusive":false,"maxexclusive":true,"precision":1}],"readonly":true,"hidden":true}]}]},{"type":"row","children":[{"type":"column","spanlarge":3,"spanmedium":2,"spansmall":1,"children":[{"type":"input-text","name":"T0_comment"}]},{"type":"column","spanlarge":3,"spanmedium":2,"spansmall":1,"id":"position_onfounding","hidden":true,"children":[{"type":"input-select","name":"T0_position","clearable":true,"display":"dropdown"},{"type":"input-text","name":"T0_confounding_factors"}]},{"type":"column","spanlarge":3,"spanmedium":2,"spansmall":1,"id":"no_comment","children":[{"type":"text","textalign":"start","id":"text"}]}]},{"type":"reset-button","id":"reset_button"},{"type":"submit-button","justify":"end","id":"submit_button"}]}]}],"description":"with conditional hide/show\nwith combined conditions using parentheses\nuse exponent, calculation doesn't work","name":"Bmi demo_expression_editor","language":"en","actions":[{"condition":"T0_height && T0_weight","assignments":["T0_body_mass_index = T0_weight / ( ( T0_height / 100 ) ^ 2 )"],"name":"Calculate BMI"},{"condition":"T0_height && T0_weight","assignments":["T0_body_mass_index.hidden = false"],"otherwise":["T0_body_mass_index.hidden = true"],"name":"Show BMI field"},{"condition":"( T0_height > 100 ) ||  ( T0_weight > 100 )","assignments":["position_onfounding.hidden = false"],"otherwise":["position_onfounding.hidden = true"],"name":"Combined condition"},{"condition":"!T0_comment","assignments":["text.hidden = false"],"otherwise":["text.hidden = true"],"name":"Negation"}],"locales":{"en":{"#reset_button":{"label":"Reset"},"#submit_button":{"label":"Submit"},"[name='T0_height']":{"label":"Height"},"[name='T0_weight']":{"label":"Weight"},"[name='T0_body_mass_index']":{"label":"Body mass index"},"[name='T0_comment']":{"label":"Comment"},"[name='T0_position']":{"label":"Position","options":[{"text":"Standing","value":"at0016"},{"text":"Lying","value":"at0020"}]},"[name='T0_confounding_factors']":{"label":"Confounding factors"},"#text":{"text":"# No comment"}}}}