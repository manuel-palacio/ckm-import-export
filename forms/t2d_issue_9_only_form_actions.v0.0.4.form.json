{"id":"t2d_issue_9_only_form_actions","version":"0.0.4","format":"CambioForm.v1.1","templates":[{"id":"diabetes_type_2_prescribing_support","version":"0.0.10","alias":"T0"}],"updated":"2022-11-02T11:21:42+01:00","authors":[{"name":"Konstantinos Kalliamvakos","email":"konstantinos.kalliamvakos@cambio.se"}],"elements":[{"type":"form","children":[{"type":"container","children":[{"type":"row","spanlarge":12,"spanmedium":8,"spansmall":4,"children":[{"type":"column","spanlarge":6,"spanmedium":4,"spansmall":2,"children":[{"type":"input-quantity","name":"T0_egfr","unitoptions":[{"unit":"mL/min/{1.73_m2}"}],"inlineLabel":false},{"type":"input-quantity","name":"T0_acr","unitoptions":[{"unit":"mg/g","min":0,"max":1000,"minexclusive":false,"maxexclusive":false}],"inlineLabel":false},{"type":"input-quantity","name":"T0_hba1c","unitoptions":[{"unit":"mmol/mol","min":0,"max":1000,"minexclusive":false,"maxexclusive":false}]},{"type":"input-quantity","name":"T0_height","required":true,"unitoptions":[{"unit":"cm","min":0,"max":1000,"minexclusive":false,"maxexclusive":false}]},{"type":"input-quantity","name":"T0_weight","required":true,"unitoptions":[{"unit":"kg","min":0,"max":1000,"minexclusive":false,"maxexclusive":false}]},{"type":"input-select","name":"T0_hba1c_target","options":[{"text":"HbA1c < 48mmol/mol","value":"at0024"},{"text":"HbA1c < 53mmol/mol","value":"at0025"},{"text":"HbA1c < 58mmol/mol","value":"at0026"},{"text":"HbA1c 58-75mmol/mol","value":"at0027"}],"clearable":true,"display":"dropdown","defaultValue":"at0024"}]},{"type":"column","spanlarge":6,"spanmedium":4,"spansmall":2,"aligncontent":"start","children":[{"type":"indicator","id":"assessment_result","children":[{"type":"text","textalign":"start","id":"missing_assessment_data_text"},{"type":"text","textalign":"start","id":"treatment_goal_assessment_text"},{"type":"text","textalign":"start","id":"current_hba1c_assessment_text"}]}]}]}]}]}],"name":"t2d_issue_9_only_form_actions","language":"en","actions":[{"condition":"T0_hba1c_target","assignments":["treatment_goal_assessment_text.text='Treatment goal: ' + T0_hba1c_target.text"],"otherwise":["treatment_goal_assessment_text.text=''"],"name":"08. Set treatment goal text"},{"condition":"T0_hba1c","assignments":["current_hba1c_assessment_text.text='Current: ' + T0_hba1c + ' ' + T0_hba1c.unit"],"otherwise":["current_hba1c_assessment_text.text=''"],"name":"09. Set hba1c text"},{"condition":"!T0_hba1c_target","assignments":["assessment_result.variant='error'","assessment_result.heading='HbA1c target was not detected.'"],"name":"Set assessment indicator to error2"},{"condition":"(T0_hba1c_target=='at0024'&&T0_hba1c>=48)||(T0_hba1c_target=='at0025'&&T0_hba1c>=53)||(T0_hba1c_target=='at0026'&&T0_hba1c>=58)||(T0_hba1c_target=='at0027'&&T0_hba1c>=75)","assignments":["assessment_result.variant='error'","assessment_result.heading='HbA1c is greater than the target upper limit.'"],"name":"Set assessment indicator to error"},{"condition":"(T0_hba1c_target=='at0024'&&T0_hba1c<48)||(T0_hba1c_target=='at0025'&&T0_hba1c<53)||(T0_hba1c_target=='at0026'&&T0_hba1c<58)||(T0_hba1c_target=='at0027'&&T0_hba1c>=58&&T0_hba1c<=75)","assignments":["assessment_result.variant='success'","assessment_result.heading='HbA1c is lower than the target upper limit.'"],"name":"Set assessment indicator to success"},{"condition":"T0_hba1c_target=='at0027'&&T0_hba1c<58","assignments":["assessment_result.variant='success'","assessment_result.heading='HbA1c is lower than the target lower limit.'"],"name":"Set assessment indicator to success2"},{"condition":"!T0_egfr||!T0_acr||!T0_hba1c||!T0_height||!T0_weight","assignments":["missing_assessment_data_text.text='To see the calculation and recommendations, please provide the mandatory values highlighted under **Observations** in the left panel.\\n\\nValues required:'","missing_assessment_data_text.hidden=false","treatment_goal_assessment_text.hidden=true","current_hba1c_assessment_text.hidden=true","assessment_result.variant='info'","assessment_result.heading=' '"],"otherwise":["missing_assessment_data_text.text='To see the calculation and recommendations, please provide the mandatory values highlighted under **Observations** in the left panel.\\n\\nValues required:'","missing_assessment_data_text.hidden=true","treatment_goal_assessment_text.hidden=false","current_hba1c_assessment_text.hidden=false"],"name":"13. Set default missing data text"},{"condition":"!T0_egfr","assignments":["missing_assessment_data_text.text=missing_assessment_data_text.text + '\\n* **eGFR**'"],"name":"14. Add eGFR to missing data"},{"assignments":["missing_assessment_data_text.text=missing_assessment_data_text.text + '\\n* **Albumin/Creatinine-ratio;U**'"],"condition":"!T0_acr","name":"15. Add ACR to missing data"},{"condition":"!T0_hba1c","assignments":["missing_assessment_data_text.text=missing_assessment_data_text.text + '\\n* **HbA1c**'"],"name":"16. Add HbA1c to missing data"},{"condition":"!T0_height","assignments":["missing_assessment_data_text.text=missing_assessment_data_text.text + '\\n* **Height**'"],"name":"17. Add Height to missing data"},{"assignments":["missing_assessment_data_text.text=missing_assessment_data_text.text + '\\n* **Weight**'"],"condition":"!T0_weight","name":"18. Add Weight to missing data"}],"locales":{"en-US":{"[name='T0_egfr']":{"label":"eGFR"},"[name='T0_acr']":{"label":"ACR"},"[name='T0_hba1c']":{"label":"HbA1c"},"[name='T0_height']":{"label":"Height"},"[name='T0_weight']":{"label":"Weight"},"[name='T0_hba1c_target']":{"label":"HbA1c target"}}}}